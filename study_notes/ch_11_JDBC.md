# Chapter 11. Database Applications with JDBC

	 ВАЖНО!
	JDBC использует индексы начинающиеся с единицы(one-based index). чтобы вытащить информацию из ResultSet которая находится в первой колонке, надо сделать запрос к первому индексу.
	Например: `rs.getInt(1)`
	То же касется и PreparedStatement например если
	 sql = "INSERT INTO bunny(name, run_distance) VALUES (?, ?)"
	то чтобы вставить туда запись, нужно присвоить значения параметрам и индексы будут начинаться с единицы.
   	stmt.setString(1, "Daisy");
 	stmt.setInt(2, 100);

Основные классы
- Connection - интерфейс A connection (session) with a specific database. SQL statements are executed and results are returned within the context of a connection.
- Driver - интерфейс The interface that every driver class must implement.
- DriverManager - Класс The basic service for managing a set of JDBC drivers.
  Используется, чтобы получить подключение к БД
  DriverManager.getConnection(url)
- Statement - интерфейс The object used for executing a static SQL statement and returning the results it produces.
- ResultSet - интерфейс
  [Подробне](http://java-online.ru/jdbc-statement.xhtml)
  Основные методы:

```java
  	ResultSet executeQuery(String sql) throws SQLException;
```
_Выполняет заданный оператор SQL, который возвращает единственный объект ResultSet.
Возвращает:
объект ResultSet, содержащий данные, полученные в результате данного запроса; никогда не *null*_

```java
	int executeUpdate(String sql) throws SQLException;
```
_Выполняет заданный оператор SQL, который может быть оператором INSERT, UPDATE или DELETE или оператором SQL
Возврат:
либо (1) количество строк для операторов SQL Data Manipulation Language (DML), либо (2) 0 для операторов SQL, которые ничего не возвращают_

```java 
  boolean execute(String sql) throws SQLException;
```
_Выполняет заданный запрос SQL, который может возвращать несколько результатов.
Возвращает:
`True` - если первым результатом является объект ResultSet;
`False` - если это счетчик обновлений или нет результатов_

- PreparedStatement - интерфейс An object that represents a precompiled SQL statement.
- CallableStatement - The interface used to execute SQL stored procedures.
- ResultSet - интерфейс A table of data representing a database result set, which is usually generated by executing a statement that queries the database.

Все УРЛы баз данных должны начинаться с `jdbc:`
URL-адрес JDBC состоит из трех компонентов, разделенных двоеточием. Для данных после компонента драйвер базы данных указывает формат. В зависимости от драйвера это может включать IP-адрес и порт. В любом случае он должен включать имя или псевдоним базы данных.
Верные варианты:
```java
String first = "jdbc:magic:127.0.0.1:1234/box";
String second = "jdbc:magic:box";
```

Стандартный вызов:
```java
try (Connection conn = DriverManager.getConnection(url);
   Statement stmt = conn.prepareStatement(sql);
   ResultSet rs = stmt.executeQuery()) {
 	rs.next()
    System.out.println(rs.getInt(1));
}
```